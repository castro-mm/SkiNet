import{a as Q,b as dt,c as gt,d as ft,e as ht,f as vt}from"./chunk-3MSOCBK4.js";import{a as lt}from"./chunk-DECSCUUH.js";import{a as w}from"./chunk-QIX2562L.js";import{a as ut}from"./chunk-ZVX7NHK6.js";import{a as W}from"./chunk-G6MHISKM.js";import"./chunk-MQHY6TSH.js";import{a as ct}from"./chunk-GE6YFGY2.js";import{a as pt,b as A}from"./chunk-55MNDU3M.js";import{a as M}from"./chunk-DDJQYBUA.js";import"./chunk-H4WQSJEQ.js";import{K as st,N as mt,b as Je,c as Ke,d as et,e as tt,f as rt,i as it,j as C,ja as k,k as I,l as nt,m as ot,ma as Y,n as at}from"./chunk-66ZLYJGL.js";import"./chunk-JGYM447R.js";import{Ab as H,Ac as qe,Bb as Oe,D as _e,Db as y,Eb as Pe,Ec as Z,Fa as Ae,Fc as de,Ga as R,Gb as V,Hb as X,Ib as a,Ic as Ye,J as ye,Ja as Te,Jb as o,Jc as Qe,Ka as O,Kb as g,Ob as U,Oc as q,P as Ce,Qa as D,R as xe,Rb as h,Tb as E,Wb as $,Xb as le,Zc as We,ab as Re,ba as Ee,ca as Se,cc as He,db as l,dc as s,ea as F,eb as c,ec as S,fb as De,fc as G,g as fe,gb as Me,ha as Ie,hb as ze,ja as N,jb as Fe,ka as u,kb as Ne,lb as Be,lc as p,mc as Ve,oa as d,ob as Le,pc as Xe,qa as B,qc as Ue,r as he,s as ve,sa as ke,tb as P,ua as we,v as be,vc as $e,wb as v,xa as L,xb as je,xc as Ge,ya as j,yb as z,zb as ce,zc as Ze}from"./chunk-KOJY6QOY.js";var J=class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=d({type:i,selectors:[["app-home"]],standalone:!0,features:[p],decls:8,vars:0,consts:[[1,"max-w-screen-2xl","mx-auto","px-4","mt-32"],[1,"flex","flex-col","items-center","py-16","justify-center","mt-20","rounded-2xl","shadow-xl","relative"],["src","../images/hero1.jpg","alt","Ski Resort Image",1,"absolute","inset-0","w-full","h-full","object-cover","rounded-2xl"],[1,"flex","flex-col","p-8","rounded-2xl","items-center","relative"],[1,"my-6","font-extrabold","text-white","text-6xl"],["routerLink","/shop",1,"bg-gradient-to-r","from-blue-600","to-cyan-500","font-semibold","text-2xl","rounded-2xl","px-8","py-4","border-2","border-transparent","mt-8"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1),g(2,"img",2),a(3,"div",3)(4,"h1",4),s(5,"Welcome to SkiNet"),o(),a(6,"button",5),s(7,"Go to Shop"),o()()()())},dependencies:[I]})};function Dt(i,e){if(i&1&&(a(0,"li",4),s(1),o()),i&2){let r=e.$implicit;l(),S(r)}}function Mt(i,e){if(i&1&&(a(0,"div",2)(1,"ul",3),V(2,Dt,2,1,"li",4,Pe),o()()),i&2){let r=E();l(2),X(r.validationErrors)}}var K=class i{constructor(e){this.http=e}baseApiUrl=Y.apiUrl;validationErrors;get404Error(){this.http.get(`${this.baseApiUrl}buggy/notfound`).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get400Error(){this.http.get(`${this.baseApiUrl}buggy/badrequest`).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get401Error(){this.http.get(`${this.baseApiUrl}buggy/unauthorized`).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get500Error(){this.http.get(`${this.baseApiUrl}buggy/internalerror`).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get400ValidationError(){this.http.post(`${this.baseApiUrl}buggy/validationerror`,{}).subscribe({next:e=>console.log(e),error:e=>this.validationErrors=e})}static \u0275fac=function(r){return new(r||i)(c(Je))};static \u0275cmp=d({type:i,selectors:[["app-test-error"]],standalone:!0,features:[p],decls:14,vars:1,consts:[[1,"mt-5","flex","justify-center","gap-4"],["mat-stroked-button","",3,"click"],[1,"mx-auto","max-w-lg","bg-red-100","mt-10"],[1,"space-y-2","p-2"],[1,"text-red-800"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"button",1),h("click",function(){return t.get400Error()}),s(2,"Test 400 Error"),o(),a(3,"button",1),h("click",function(){return t.get401Error()}),s(4,"Test 401 Error"),o(),a(5,"button",1),h("click",function(){return t.get404Error()}),s(6,"Test 404 Error"),o(),a(7,"button",1),h("click",function(){return t.get500Error()}),s(8,"Test 500 Error"),o(),a(9,"button",1),h("click",function(){return t.get400Error()}),s(10,"Test 400 Error"),o(),a(11,"button",1),h("click",function(){return t.get400ValidationError()}),s(12,"Test Validation Error"),o()(),v(13,Mt,4,0,"div",2)),r&2&&(l(13),y(t.validationErrors?13:-1))},dependencies:[k]})};var ee=class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=d({type:i,selectors:[["app-not-found"]],standalone:!0,features:[p],decls:10,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-96","bg-gray-100"],[1,"text-center"],[1,"text-purple-700","icon-display"],[1,"text-4xl","font-bold","text-gray-800","mt-8"],[1,"text-lg","text-gray-600","mt-2"],["routerLink","/shop","mat-flat-button","",1,"mt-4"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"mat-icon",2),s(3,"error_outline"),o(),a(4,"h1",3),s(5,"404"),o(),a(6,"p",4),s(7,"Page Not Found"),o(),a(8,"button",5),s(9,"Back to Shop"),o()()())},dependencies:[M,k,I],styles:[".icon-display[_ngcontent-%COMP%]{transform:scale(3)}"]})};function zt(i,e){if(i&1&&(a(0,"h5",2),s(1),o(),a(2,"p",3),s(3,"This error comes from the server, not Angular"),o(),a(4,"p",4),s(5,"What to do next?"),o(),a(6,"ol",5)(7,"li",6),s(8,"Check the network tab in chrome dev tools"),o(),a(9,"li",6),s(10,"Reproduce the error in postmam. If same error, don't waste time troubleshooting angular code."),o(),a(11,"li",6),s(12,"Check the network tab in chrome dev tools"),o()(),a(13,"h5",7),s(14,"Stack Trace"),o(),a(15,"mat-card",8)(16,"code",9),s(17),o()()),i&2){let r=E();l(),G("Error: ",r.error.message,""),l(16),S(r.error.details)}}var te=class i{constructor(e){this.router=e;let r=this.router.getCurrentNavigation();this.error=r?.extras.state?.error}error;static \u0275fac=function(r){return new(r||i)(c(C))};static \u0275cmp=d({type:i,selectors:[["app-server-error"]],standalone:!0,features:[p],decls:4,vars:1,consts:[[1,"container","mt-5","p-3","bg-gray-100","rounded","shadow-lg"],[1,"text-3xl","font-semibold","mb-4"],[1,"text-red-600"],[1,"font-bold","mb-2"],[1,"mb-2"],[1,"list-decimal","ml-5","mb-4"],[1,"mb-1"],[1,"text-lg","font-semibold","mb-2"],[1,"p-4","bg-white"],[1,"block","whitespace-pre-wrap"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"h1",1),s(2,"Internal Server Error"),o(),v(3,zt,18,2),o()),r&2&&(l(3),y(t.error?3:-1))},dependencies:[ct]})};var re=class i{constructor(e){this.cartService=e}item=Te.required();incrementQuantity(){this.cartService.addItemToCart(this.item())}decrementQuantity(){this.cartService.removeItemFromCart(this.item().productId)}removeItemFromCart(){this.cartService.removeItemFromCart(this.item().productId,this.item().quantity)}static \u0275fac=function(r){return new(r||i)(c(w))};static \u0275cmp=d({type:i,selectors:[["app-cart-item"]],inputs:{item:[1,"item"]},standalone:!0,features:[p],decls:26,vars:10,consts:[[1,"rounded-lg","border","border-gray-200","bg-white","p-4","shadow-sm","mb-4"],[1,"flex","items-center","justify-between","gap-6"],[1,"shrink","order-1",3,"routerLink"],["alt","product image",1,"h-20","2-20",3,"src"],[1,"flex","items-center","justify-between","order-3"],[1,"flex","items-center","align-middle","gap-3"],["mat-icon-button",""],[1,"text-red-600",3,"click"],[1,"font-semibold","text-xl","mb-1"],[1,"text-green-600",3,"click"],[1,"text-end","order-4","w-32"],[1,"font-bold","text-xl"],[1,"w-full","flex-1","space-y-4","order-2","max-w-md"],[1,"font-medium",3,"routerLink"],[1,"flex","items-center","gap-4"],["mat-button","","color","warn",3,"click"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),g(3,"img",3),o(),a(4,"div",4)(5,"div",5)(6,"button",6)(7,"mat-icon",7),h("click",function(){return t.decrementQuantity()}),s(8,"remove"),o()(),a(9,"div",8),s(10),o(),a(11,"button",6)(12,"mat-icon",9),h("click",function(){return t.incrementQuantity()}),s(13,"add"),o()()(),a(14,"div",10)(15,"p",11),s(16),Xe(17,"currency"),o()()(),a(18,"div",12)(19,"a",13),s(20),o(),a(21,"div",14)(22,"button",15),h("click",function(){return t.removeItemFromCart()}),a(23,"mat-icon"),s(24,"delete"),o(),s(25," Delete "),o()()()()()),r&2&&(l(2),le("routerLink","/shop/",t.item().productId,""),l(),$("src",t.item().pictureUrl,Re),l(7),S(t.item().quantity),l(6),S(Ue(17,8,t.item().price)),l(3),le("routerLink","/shop/",t.item().productId,""),l(),G(" ",t.item().productName," "))},dependencies:[I,k,M,We]})};var Ft=(i,e)=>e.productId;function Nt(i,e){if(i&1&&g(0,"app-cart-item",3),i&2){let r=e.$implicit;z("item",r)}}function Bt(i,e){if(i&1&&(a(0,"div",0)(1,"div",2),V(2,Nt,1,1,"app-cart-item",3,Ft),o(),a(4,"div",4),g(5,"app-order-summary"),o()()),i&2){let r,t=E();l(2),X((r=t.cartService.cart())==null?null:r.items)}}function Lt(i,e){if(i&1){let r=U();a(0,"app-empty-state",5),h("action",function(){L(r);let n=E();return j(n.onAction())}),o()}}var ie=class i{constructor(e,r){this.cartService=e;this.router=r}onAction(){this.router.navigateByUrl("/shop")}static \u0275fac=function(r){return new(r||i)(c(w),c(C))};static \u0275cmp=d({type:i,selectors:[["app-cart"]],standalone:!0,features:[p],decls:3,vars:1,consts:[[1,"flex","w-full","items-start","gap-6","mt-32"],["message","Your shop cart is empty","icon","filter_shopping_cart","actionText","Go To Shop"],[1,"w-full"],[3,"item"],[1,"w-1/4"],["message","Your shop cart is empty","icon","filter_shopping_cart","actionText","Go To Shop",3,"action"]],template:function(r,t){if(r&1&&(a(0,"section"),v(1,Bt,6,0,"div",0)(2,Lt,1,0,"app-empty-state",1),o()),r&2){let n;l(),y(((n=t.cartService.cart())==null||n.items==null?null:n.items.length)>0?1:2)}},dependencies:[re,lt,dt]})};var _t=(i,e)=>{let r=u(A),t=u(C),n=u(W);return r.isAdmin()?!0:(n.error("Access Forbidden"),t.navigateByUrl("/shop"),!1)};var yt=[{path:"",component:J},{path:"shop",loadChildren:()=>import("./chunk-6G3TDQ5K.js").then(i=>i.shopRoutes)},{path:"cart",component:ie},{path:"checkout",loadChildren:()=>import("./chunk-OHF3352M.js").then(i=>i.checkoutRoutes)},{path:"orders",loadChildren:()=>import("./chunk-2W6ZD6HG.js").then(i=>i.orderRoutes)},{path:"account",loadChildren:()=>import("./chunk-FXC7H2DS.js").then(i=>i.accountRoutes)},{path:"test-error",component:K},{path:"not-found",component:ee},{path:"server-error",component:te},{path:"admin",loadComponent:()=>import("./chunk-SXNNSZXR.js").then(i=>i.AdminComponent),canActivate:[ut,_t]},{path:"**",redirectTo:"not-found",pathMatch:"full"}];var jt="@",Ot=(()=>{let e=class e{constructor(t,n,m,f,_){this.doc=t,this.delegate=n,this.zone=m,this.animationType=f,this.moduleImpl=_,this._rendererFactoryPromise=null,this.scheduler=u(ze,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-OJKXUFX7.js").then(n=>n)).catch(n=>{throw new Se(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:m})=>{this._engine=n(this.animationType,this.doc);let f=new m(this.delegate,this._engine,this.zone);return this.delegate=f,f})}createRenderer(t,n){let m=this.delegate.createRenderer(t,n);if(m.\u0275type===0)return m;typeof m.throwOnSyntheticProps=="boolean"&&(m.throwOnSyntheticProps=!1);let f=new ue(m);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(_=>{let x=_.createRenderer(t,n);f.use(x),this.scheduler?.notify(9)}).catch(_=>{f.use(m)}),f}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){De()},e.\u0275prov=F({token:e,factory:e.\u0275fac});let i=e;return i})(),ue=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,n){this.delegate.insertBefore(e,r,t,n)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,n){this.delegate.setAttribute(e,r,t,n)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,n){this.delegate.setStyle(e,r,t,n)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(n=>n.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(n=>n.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(jt)}};function Ct(i="animations"){return Be("NgAsyncAnimations"),ke([{provide:Fe,useFactory:(e,r,t)=>new Ot(e,r,t,i),deps:[q,tt,R]},{provide:D,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var xt=(i,e)=>{let r=u(C),t=u(W);return e(i).pipe(ye(n=>{if(n.status===400)if(n.error.errors){let m=[];for(let f in n.error.errors)n.error.errors[f]&&m.push(n.error.errors[f]);throw m.flat()}else t.error(n.error.title||n.error);if(n.status===401&&t.error(n.error.title||n.error),n.status===403&&t.error("Forbidden"),n.status===404&&r.navigateByUrl("/not-found"),n.status===500){let m={state:{error:n.error}};r.navigateByUrl("/server-error",m)}return ve(()=>n)}))};var Et=(i,e)=>{let r=u(Q);return r.busy(),e(i).pipe(Y.production?fe:Ce(500),xe(()=>r.idle()))};var ne=class i{constructor(e,r,t){this.cartService=e;this.accountService=r;this.signalrService=t}init(){let e=localStorage.getItem("cart_id"),r=e?this.cartService.getCart(e):he(null);return _e({cart:r,user:this.accountService.getUserInfo().pipe(Ee(t=>{t&&this.signalrService.createHubConnection()}))})}static \u0275fac=function(r){return new(r||i)(N(w),N(A),N(pt))};static \u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})};var It=(i,e)=>{let r=i.clone({withCredentials:!0});return e(r)};function Pt(i){return()=>be(i.init()).finally(()=>{let e=document.getElementById("initial-splash");e&&e.remove()})}var kt={providers:[Ze({eventCoalescing:!0}),ot(yt),Ct(),Ke(et([xt,Et,It])),{provide:$e,useFactory:Pt,multi:!0,deps:[ne]}]};var Xt=0,wt="mat-badge-content",oe=new Set,Ut=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=d({type:e,selectors:[["ng-component"]],standalone:!0,features:[p],decls:0,vars:0,template:function(n,m){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let i=e;return i})(),At=(()=>{let e=class e{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,n,m,f,_){this._ngZone=t,this._elementRef=n,this._ariaDescriber=m,this._renderer=f,this._animationMode=_,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=Xt++,this._isInitialized=!1,this._interactivityChecker=u(mt),this._document=u(q);let x=u(Ge);if(!oe.has(x)){oe.add(x);let ge=Qe(Ut,{environmentInjector:u(we)});x.onDestroy(()=>{oe.delete(x),oe.size===0&&ge.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),n="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(wt),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(n)})}):t.classList.add(n),t}_updateRenderedContent(t){let n=`${t??""}`.trim();this._isInitialized&&n&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=n),this._content=n}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let n=this._elementRef.nativeElement.classList;n.remove(`mat-badge-${this._color}`),t&&n.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${wt}`);for(let n of Array.from(t))n!==this._badgeElement&&n.remove()}};e.\u0275fac=function(n){return new(n||e)(c(R),c(O),c(st),c(Ne),c(D,8))},e.\u0275dir=B({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(n,m){n&2&&H("mat-badge-overlap",m.overlap)("mat-badge-above",m.isAbove())("mat-badge-below",!m.isAbove())("mat-badge-before",!m.isAfter())("mat-badge-after",m.isAfter())("mat-badge-small",m.size==="small")("mat-badge-medium",m.size==="medium")("mat-badge-large",m.size==="large")("mat-badge-hidden",m.hidden||!m.content)("mat-badge-disabled",m.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",Z],disabled:[2,"matBadgeDisabled","disabled",Z],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",Z]},standalone:!0,features:[P]});let i=e;return i})();function $t(i,e){i&1&&g(0,"div",2)}var Gt=new Ie("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Rt=(()=>{let e=class e{constructor(t,n,m,f,_){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=m,this._animationMode=f,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Ae,this._mode="determinate",this._transitionendHandler=x=>{this.animationEnd.observers.length===0||!x.target||!x.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=f==="NoopAnimations",_&&(_.color&&(this.color=this._defaultColor=_.color),this.mode=_.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=Tt(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Tt(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};e.\u0275fac=function(n){return new(n||e)(c(O),c(R),c(qe),c(D,8),c(Gt,8))},e.\u0275cmp=d({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,m){n&2&&(je("aria-valuenow",m._isIndeterminate()?null:m.value)("mode",m.mode),Oe("mat-"+m.color),H("_mat-animation-noopable",m._isNoopAnimation)("mdc-linear-progress--animation-ready",!m._isNoopAnimation)("mdc-linear-progress--indeterminate",m._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",de],bufferValue:[2,"bufferValue","bufferValue",de],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[P,p],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,m){n&1&&(a(0,"div",0),g(1,"div",1),v(2,$t,1,0,"div",2),o(),a(3,"div",3),g(4,"span",4),o(),a(5,"div",5),g(6,"span",4),o()),n&2&&(l(),ce("flex-basis",m._getBufferBarFlexBasis()),l(),y(m.mode==="buffer"?2:-1),l(),ce("transform",m._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let i=e;return i})();function Tt(i,e=0,r=100){return Math.max(e,Math.min(r,i))}var ae=class i{constructor(e,r){this.accountService=e;this.viewContainerRef=r;Ye(()=>{this.accountService.isAdmin()?this.viewContainerRef.createEmbeddedView(this.templateRef):this.viewContainerRef.clear()})}templateRef=u(Me);static \u0275fac=function(r){return new(r||i)(c(A),c(Le))};static \u0275dir=B({type:i,selectors:[["","appIsAdmin",""]],standalone:!0})};var Zt=()=>({exact:!0});function qt(i,e){i&1&&(a(0,"a",17),s(1,"Admin"),o())}function Yt(i,e){if(i&1&&(a(0,"button",11)(1,"mat-icon"),s(2,"arrow_drop_down"),o(),a(3,"span"),s(4),o()()),i&2){let r,t=E(),n=He(20);z("matMenuTriggerFor",n),l(4),S((r=t.accountService.currentUser())==null?null:r.email)}}function Qt(i,e){i&1&&(a(0,"button",18),s(1,"Login"),o(),a(2,"button",19),s(3,"Register"),o())}function Wt(i,e){i&1&&g(0,"mat-progress-bar",12)}var se=class i{constructor(e,r,t,n){this.busyService=e;this.cartService=r;this.accountService=t;this.router=n}logout(){this.accountService.logout().subscribe({next:()=>{this.accountService.currentUser.set(null),this.router.navigateByUrl("/")}})}static \u0275fac=function(r){return new(r||i)(c(Q),c(w),c(A),c(C))};static \u0275cmp=d({type:i,selectors:[["app-header"]],standalone:!0,features:[p],decls:33,vars:5,consts:[["menu","matMenu"],[1,"border-b","shadow-md","p-3","w-full","max-h-20","fixed","top-0","z-50","bg-white"],[1,"flex","align-middle","items-center","justify-between","max-w-screen-2xl","mx-auto"],["routerLink","/","src","/images/logo.png","alt","app logo",1,"max-h-16"],[1,"flex","gap-3","my-2","uppercase","text-2xl"],["routerLink","/","routerLinkActive","active",1,"",3,"routerLinkActiveOptions"],["routerLink","/shop","routerLinkActive","active"],["routerLink","/test-error","routerLinkActive","active"],["routerLink","/admin","routerLinkActive","active",4,"appIsAdmin"],[1,"flex","gap-3","align-middle"],["routerLink","/cart","routerLinkActive","active","matBadgeSize","large",1,"custom-badge","mt-2","mr-2",3,"matBadge"],["mat-button","",3,"matMenuTriggerFor"],["mode","indeterminate",1,"fixed","top-20","z-50"],[1,"px-5"],["mat-menu-item","","routerLink","/cart",1,"px-3"],["mat-menu-item","","routerLink","/orders",1,"px-3"],["mat-menu-item","",1,"px-3",3,"click"],["routerLink","/admin","routerLinkActive","active"],["routerLink","/account/login","mat-stroked-button",""],["routerLink","/account/register","mat-stroked-button",""]],template:function(r,t){if(r&1){let n=U();a(0,"header",1)(1,"div",2),g(2,"img",3),a(3,"nav",4)(4,"a",5),s(5,"Home"),o(),a(6,"a",6),s(7,"Shop"),o(),a(8,"a",7),s(9,"Errors"),o(),v(10,qt,2,0,"a",8),o(),a(11,"div",9)(12,"a",10)(13,"mat-icon"),s(14,"shopping_cart"),o()(),v(15,Yt,5,2,"button",11)(16,Qt,4,0),o()()(),v(17,Wt,1,0,"mat-progress-bar",12),g(18,"mat-divider"),a(19,"mat-menu",13,0)(21,"button",14)(22,"mat-icon"),s(23,"shopping_cart"),o(),s(24," My Cart "),o(),a(25,"button",15)(26,"mat-icon"),s(27,"history"),o(),s(28," My Orders "),o(),a(29,"button",16),h("click",function(){return L(n),j(t.logout())}),a(30,"mat-icon"),s(31,"logout"),o(),s(32," Logout "),o()()}r&2&&(l(4),z("routerLinkActiveOptions",Ve(4,Zt)),l(8),$("matBadge",t.cartService.itemsCount()),l(3),y(t.accountService.currentUser()?15:16),l(2),y(t.busyService.loading?17:-1))},dependencies:[M,k,At,I,nt,at,Rt,ht,vt,gt,ft,ae],styles:[".custom-badge[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:24px;height:24px;font-size:14px;line-height:24px}.custom-badge[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}a.active[_ngcontent-%COMP%]{color:#7d00fa}"]})};var me=class i{title="SkiNet";static \u0275fac=function(r){return new(r||i)};static \u0275cmp=d({type:i,selectors:[["app-root"]],standalone:!0,features:[p],decls:3,vars:0,consts:[[1,"container","mt-24"]],template:function(r,t){r&1&&(g(0,"app-header"),a(1,"div",0),g(2,"router-outlet"),o())},dependencies:[it,se]})};rt(me,kt).catch(i=>console.error(i));
