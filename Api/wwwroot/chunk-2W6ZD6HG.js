import{a as O,b as q,c as z}from"./chunk-7UUPUER3.js";import{a as I}from"./chunk-ZVX7NHK6.js";import{a as $,d as L}from"./chunk-GE6YFGY2.js";import{b as V}from"./chunk-55MNDU3M.js";import{a as G}from"./chunk-NF3RQQ7A.js";import{h as j,j as F,ja as U,k as N}from"./chunk-66ZLYJGL.js";import{Db as R,Gb as x,Hb as v,Ib as e,Jb as t,Kb as B,Ob as T,Rb as k,Tb as E,Wb as M,Xb as P,Yc as y,Zc as g,ab as A,db as n,dc as i,eb as p,ec as a,fc as s,lc as f,oa as u,pc as m,qc as l,rc as S,wb as w,xa as D,ya as _}from"./chunk-KOJY6QOY.js";var Q=(o,d)=>d.productId;function W(o,d){if(o&1&&(e(0,"tr")(1,"td",23)(2,"div",24),B(3,"img",25),e(4,"span"),i(5),t()()(),e(6,"td",26),i(7),t(),e(8,"td",27),i(9),m(10,"currency"),t()()),o&2){let r=d.$implicit;n(3),M("src",r.pictureUrl,A),n(2),a(r.productName),n(2),s("x",r.quantity,""),n(2),a(l(10,4,r.price))}}function X(o,d){if(o&1){let r=T();e(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"h2",3),i(4),t(),e(5,"button",4),k("click",function(){D(r);let C=E();return _(C.onReturnClick())}),i(6),t()(),e(7,"div",5)(8,"div",6)(9,"h4",7),i(10,"Billing and delivery information"),t(),e(11,"dl")(12,"dt",8),i(13,"Shipping Address"),t(),e(14,"dd",9),i(15),m(16,"address"),t()(),e(17,"dl")(18,"dt",8),i(19,"Payment Info"),t(),e(20,"dd",9),i(21),m(22,"paymentDetails"),t()()(),e(23,"div",6)(24,"h4",7),i(25,"Details Info"),t(),e(26,"dl")(27,"dt",8),i(28,"Email Address"),t(),e(29,"dd",9),i(30),t()(),e(31,"dl")(32,"dt",8),i(33,"Order Status"),t(),e(34,"dd",9),i(35),t()(),e(36,"dl")(37,"dt",8),i(38,"Order Date"),t(),e(39,"dd",9),i(40),m(41,"date"),t()()()(),e(42,"div",10)(43,"div",11)(44,"table",12)(45,"tbody",13),x(46,W,11,6,"tr",null,Q),t()()()(),e(48,"div",14)(49,"div",15)(50,"p",16),i(51,"Order Summary"),t(),e(52,"div",17)(53,"div",6)(54,"dl",18)(55,"dt",19),i(56,"Subtotal"),t(),e(57,"dd",20),i(58),m(59,"currency"),t()(),e(60,"dl",18)(61,"dt",19),i(62,"Discount"),t(),e(63,"dd",21),i(64,"-$0.00"),t()(),e(65,"dl",18)(66,"dt",19),i(67,"Delivery Fee"),t(),e(68,"dd",20),i(69),m(70,"currency"),t()()(),e(71,"dl",22)(72,"dt",19),i(73,"Total"),t(),e(74,"dd",20),i(75),m(76,"currency"),t()()()()()()()}if(o&2){let r=E();n(4),s("Order summary for order #",r.order.id,""),n(2),a(r.buttonText),n(9),a(l(16,10,r.order.shippingAddress)),n(6),a(l(22,12,r.order.paymentSummary)),n(9),a(r.order.buyerEmail),n(5),a(r.order.status),n(5),a(S(41,14,r.order.orderDate,"medium")),n(6),v(r.order.orderItems),n(12),a(l(59,17,r.order.subtotal)),n(11),a(l(70,19,r.order.shippingPrice)),n(6),a(l(76,21,r.order.total))}}var b=class o{constructor(d,r,c,C,ee){this.orderService=d;this.activatedRoute=r;this.accountService=c;this.adminService=C;this.router=ee}order;buttonText="";ngOnInit(){this.buttonText=this.accountService.isAdmin()?"Return to Admin":"Return to Orders",this.loadOrder()}onReturnClick(){this.accountService.isAdmin()?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/orders")}loadOrder(){let d=this.activatedRoute.snapshot.paramMap.get("id");if(!d)return;(this.accountService.isAdmin()?this.adminService.getOrder(+d):this.orderService.getOrderDetailed(+d)).subscribe({next:c=>this.order=c})}static \u0275fac=function(r){return new(r||o)(p(O),p(j),p(V),p(G),p(F))};static \u0275cmp=u({type:o,selectors:[["app-order-detailed"]],standalone:!0,features:[f],decls:1,vars:1,consts:[[1,"bg-white","py-8","shadow-md","max-w-screen-lg","mx-auto"],[1,"px-4","w-full"],[1,"flex","justify-between"],[1,"text-2xl","text-center","font-semibold"],["mat-stroked-button","",3,"click"],[1,"flex","mt-8","py-3","border-t","border-gray-200","gap-16"],[1,"space-y-2"],[1,"text-lg","font-semibold"],[1,"font-medim"],[1,"mt-1","font-light"],[1,"mt-4"],[1,"border-y","border-gray-200"],[1,"w-full","text-center"],[1,"divide-y","divide-gray-200"],[1,"space-y-4","rounded","lg","border-t"],[1,"space-y-4","rounded-lg","border-y","border-gray-200","p-4","bg-white"],[1,"text-lg","font-bold"],[1,"space-y-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"font-medium","text-gray-500"],[1,"font-medium","text-gray-900"],[1,"font-medium","text-green-500"],[1,"flex","items-center","justify-between","gap-4","border-t","border-gray-200","pt-2"],[1,"py-4"],[1,"flex","items-center","gap-4"],["alt","product image",1,"w-10","h-10",3,"src"],[1,"p-4"],[1,"p-4","text-right"]],template:function(r,c){r&1&&w(0,X,77,23,"mat-card",0),r&2&&R(c.order?0:-1)},dependencies:[L,$,U,y,g,q,z]})};var Y=(o,d)=>d.id;function Z(o,d){if(o&1&&(e(0,"tr",10)(1,"td",11),i(2),t(),e(3,"td"),i(4),m(5,"date"),t(),e(6,"td"),i(7),m(8,"currency"),t(),e(9,"td"),i(10),t()()),o&2){let r=d.$implicit;P("routerLink","/orders/",r.id,""),n(2),s("# ",r.id,""),n(2),a(S(5,6,r.orderDate,"medium")),n(3),a(l(8,9,r.total)),n(3),a(r.status)}}var h=class o{constructor(d){this.orderService=d}orders=[];ngOnInit(){this.orderService.getOrdersForUser().subscribe({next:d=>this.orders=d})}static \u0275fac=function(r){return new(r||o)(p(O))};static \u0275cmp=u({type:o,selectors:[["app-order"]],standalone:!0,features:[f],decls:19,vars:0,consts:[[1,"mx-auto","mt-32"],[1,"font-semibold","text-2xl","mb-6","text-center"],[1,"flex","flex-col"],[1,"w-full"],[1,"min-w-full","divide-y","divide-gray-200","cursor-pointer"],[1,"bg-gray-50"],[1,"uppercase","text-gray-600","text-sm"],[1,"text-left","px-6","py-3"],[1,"text-left"],[1,"bg-white","divide-y","divide","gray","200"],[1,"hover:bg-gray-100",3,"routerLink"],[1,"px-6","py-3"]],template:function(r,c){r&1&&(e(0,"div",0)(1,"h2",1),i(2,"My Orders"),t(),e(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr",6)(8,"th",7),i(9,"Order"),t(),e(10,"th",8),i(11,"Date"),t(),e(12,"th",8),i(13,"Total"),t(),e(14,"th",8),i(15,"Status"),t()()(),e(16,"tbody",9),x(17,Z,11,11,"tr",10,Y),t()()()()()),r&2&&(n(17),v(c.orders))},dependencies:[N,y,g]})};var ye=[{path:"",component:h,canActivate:[I]},{path:":id",component:b,canActivate:[I]}];export{ye as orderRoutes};
